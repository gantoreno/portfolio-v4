---
import type { HTMLAttributes } from "astro/types";
import { Img } from "astro-imagetools/components";

import Italic from "../typography/Italic.astro";
import Paragraph from "./Paragraph.astro";

type Props = HTMLAttributes<"img">;

const { src, alt, width, height } = Astro.props;

// @ts-expect-error
const url = src?.src.replace("/@fs" + process.cwd(), "");
---

<Img
  attributes={{
    img: {
      class: "rounded-md mb-[6px] mx-auto mt-[6px] overflow-hidden",
    },
  }}
  src={url}
  alt={alt ?? ""}
  loading="lazy"
  placeholder="blurred"
  width={width as number}
  height={height as number}
/>
<Paragraph class="text-center">
  <Italic>
    {alt}
  </Italic>
</Paragraph>
